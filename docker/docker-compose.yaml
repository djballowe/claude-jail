services:
  claude:
    image: claude_code:latest
    container_name: claude_code
    build: .
    user: "1000:1000"
    restart: unless-stopped
    environment:
      - TERM=xterm-256color
      - COLORTERM=truecolor
      - FORCE_COLOR=1
      - CLAUDE_CONFIG_DIR=/home/claude/.claude
    stdin_open: true
    tty: true
    cap_add:
      - NET_ADMIN
    volumes:
      # projects
      - /home/david/code/github/tesla-fetch:/home/claude/projects/tesla-fetch
      - /home/david/code/github/dotfiles:/home/claude/projects/dotfiles
      - /home/david/code/github/claude-jail:/home/claude/projects/claude-jail
      - /home/david/.config/nvim:/home/claude/projects/nvim-config
      # config
      - /home/david/.claude:/home/claude/.claude
      - /home/david/.claude.json:/home/claude/.claude/.claude.json
